<h1>Practice Presences</h1>

<%= form_for([@practice.team.club, @practice.team, @practice, @presence]) do |f| %>
  <% if @practice.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@practice.errors.count, "error") %> prohibited this practice from being saved:</h2>

      <ul>
      <% @practice.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

<p>
  <b>Date:</b>
  <%= @practice.date %>
</p>

<p>
  <b>Time:</b>
  <%= @practice.hour %>
</p>

<p>
  <b>Team:</b>
  <%= @practice.team.name %>
</p>

<%# Formulário para adicionar as presenças dos jogadores no treino. Quero uma checkbox e nome do jogador (mais numero eventualmente) %>
<% if @team.players.count == 0 %>
  <em>The team doesn't have any players.</em>
  <% else %>

   <table class="table table-hover">
      <thead>
        <tr>
          <th>Present?</th>
          <th>Number</th>
          <th>Name</th>
        </tr>
      </thead>

    <% @team.players.each do |player| %>
      <tr>
        <td><%= check_box_tag "player_ids[]", player.id, false, :id => "player_#{player.id}" %></td>
        <td><%= player.number %></td>
        <td><%= player.name %></td>
        </tr>
    <% end %>
  </table>
<% end %>

  <div class="actions">
    <%= f.submit "Save Presences" %>
  </div>
<% end %>

<%= link_to 'Back', club_team_practices_path(@team.club, @team) %>